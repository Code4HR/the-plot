@import "compass";
@import "lib";

body {
  background: $background-color;
  -webkit-perspective: 1000px;
  perspective: 1000px;
  perspective-origin: center 200px;
  &.rotated {
  	@include animation(perspective-transition $split-transition-duration + $skew-transition-duration forwards)
  }
}

@include keyframe(perspective-transition) {
	50% {
		-webkit-perspective: 1000px;
		perspective: 1000px;
		perspective-origin: center 200px;
	}
	100% {
		-webkit-perspective: 5000px;
		perspective: 5000px;
		perspective-origin: center 400px;
	}
}

* {
  @include box-sizing(border-box); 
  border-style: solid;
  border-width: 0;
}

.building {
	margin-left: auto;
	margin-right: auto;
	@include transform-style(preserve-3d);
	width: 500px;
	height: 500px;
	pointer-events: none;
	.room {
		@include square(100%);
	}
	svg {
		overflow: visible;
		@include square(100%);
		position: absolute;
	}
}

@include sizing($floor-depth, $floor-width);

.facade {
	right: 100%;
	@extend %rotate-left;
}

#top_floor {
	svg {
		> g {
			@include transform(rotateZ(90deg) scale(0.354) translateX(308px) translateY(128px));
		}
	}
	margin-top: 100px;
	@include floor-sizing(325px, $floor-width, 'top-floor', $post-transform-x: -30px, $post-transform-y: -30px, $pre-transform-x: -238px, $pre-transform-y: 28px, $facade-width: 86px);
	@include floor-styling(#733E2D, 'top-floor');
	.conference_room {
		left: 0;
		bottom: 0;
		@include size(30%, 100%);
		.table {
			@include size(30%, 80%);
			left: 20%;
			bottom: 2%;
		}
		.chair_left_facing {
			left: 102%;
		}
		.chair_right_facing {
			right: 102%;
		}
		.chair_1, .chair_5 {
			top: 5%;
		}
		.chair_2, .chair_6 {
			top: 28%;
		}
		.chair_3, .chair_7 {
			top: 51%;
		}
		.chair_4, .chair_8 {
			top: 75%;
		}
	}
	.work_room_1, .work_room_2 {
		bottom: 0;
	}
	.work_room_1 {
		right: 0;
		@include size(15%, 45%);
		.table {
			@include size(30%, 70%);
			bottom: 0;
			left: 37%;
		}
		.chair_1, .chair_3 {
			top: 5%;
		}
		.chair_2, .chair_4 {
			top: 50%;
		}
	}
	.work_room_2 {
		right: 15%;
		@include size(17%, 45%);
		.couch {
			width: 30%;
		}
		.couch_1 {
			right: 0;
			top: 5%;
		}
		.couch_2 {
			@include transform(translateZ(-$floor-depth) rotateZ(-90deg));
			top: 10%;
		}
	}
	.work_room_3 {
		left: 30%;
		@include size(17%, 70%);
		.couch_1 {
			width: 50%;
			left: 20%;
		}
		.couch_2 {
			@include transform(translateZ(-$floor-depth) rotateZ(-90deg));
			width: 45%;
			top: 40%;
		}
	}
	.storage_room_1, .storage_room_2 {
		left: 47%;
		@include size(17%, 30%);
	}
	.storage_room_2 {
		top: 30%;
	}
	.storage_room_3 {
		left: 74%;
		@include size(10%, 30%);
	}
	.storage_room_4 {
		left: 84%;
		@include size(13%, 30%);
	}
}

#second_floor {
	margin-top: 4.25%;
	$second-floor-color: #3C685C;
	@include floor-sizing(325px, $floor-width, 'second-floor', $post-transform-x: -30px, $post-transform-y: 15px, $pre-transform-x: -238px, $pre-transform-z: 39px, $pre-transform-y: 28px, $facade-width: 61px);
	@include floor-styling($second-floor-color, 'second-floor');
	svg {
		> g {
			@include transform(rotateZ(90deg) scale(0.5) translateX(248px) translateY(-81px));
		}
	}
	.ground_couches {
		width: 30%;
	}
	.ground_kitchen {
		width: 70%;
		left: 30%;
	}
	.counter {
		left: 34%;
		@include step-sizing(-40px, $floor-depth - 40px, 15px, 34%);
		.horizontal {
			border-top-width: 1px;
		}
	}
	.bathroom {
		left: 68%;
		@include size(15%, 30%);
	}
	.closet {
		left: 83%;
		@include size(10%, 30%);
	}
	.table {
		left: 35%;
		top: 50%;
		@include size(33%, 22%);
		.chair_1, .chair_6 {
			left: 9%;
		}
		.chair_2, .chair_7 {
			left: 28%;
		}
		.chair_3, .chair_8 {
			left: 48%;
		}
		.chair_4, .chair_9 {
			left: 67%;
		}
		.chair_5, .chair_10 {
			left: 86%;
		}
	}
	.couch_1 {
		width: 14%;
		left: 1%;
		top: 37%;
		@include transform(translateZ(-$floor-depth) rotateZ(-90deg));
	}
	.couch_2, .couch_3 {
		width: 6%;
		@include transform(translateZ(-$floor-depth) rotateZ(90deg));
		left: 17%;
	}
	.couch_2 {
		top: 25%;
	}
	.couch_3 {
		top: 50%;
	}
	.deck {
		@include size(40%, 100%);
		left: 100%;
		.floor {
			border-width: 1px;
			@include square(100%);
			@include transform(translateZ(-$floor-depth));
			@include background-size(5px 5px);
			@include background-image(linear-gradient(transparent 90%, rgba($second-floor-color, 0.25) 90%));
		}
		.table {
			@include size(18%, 20%);
		}
		.table_1 {
			left: 28%;
			top: 20%;
		}
		.table_2 {
			left: 60%;
			top: 58%;
		}
		.chair {
			left: 45%;
		}
		.umbrella {
			top: -20%;
			@include size(120%, 145%);
			border: solid 1px $second-floor-color;
			@include border-radius(50%);
			@include transform(translateZ(40px));
			.pole, .triangle {
				background: $second-floor-color;
			}
			.pole {
				left: 50%;
				top: 50%;
				width: 2px;
				height: 150%;
				@extend %rotate-back;
			}
			.triangle {
				width: 1px;
				height: 50%;
				left: 50%;
				top: 50%;
				-webkit-transform-origin: top left;
				transform-origin: top left;
				@for $i from 1 through 8 {
					&.triangle_#{$i} {
						@include transform(rotateZ(unquote($i * 360 / 8 + "deg")));
					}
				}
			}
		}
	}
}

#third_floor {
	margin-top: -1%;
	$third-floor-color: #693E3E;
	@include floor-sizing(285px, $floor-width, 'third-floor', $post-transform-y: 90px, $post-transform-x: 80px, $pre-transform-y: 48px, $pre-transform-x: -258px, $pre-transform-z: 78px, $facade-width: 55px);
	@include floor-styling($third-floor-color, 'third-floor');
	svg {
		> g {
			@include transform(rotateZ(90deg) scale(0.556) translateX(236px) translateY(-268px));
		}
	}
	.contents {
		.left-side, .right-side {
			background: none;
			border-top: none;
			border-bottom: none;
		}
		.right-side {
			border-left: none;
		}
		.left-side {
			border-right: none;
		}
		.stairs {
			left: 98%;
			bottom: 3%;
			@include size(25%, 60%);
		}
		.table_1 {
			@include size(6%, 100%);
			.chair_1 {
				top: 30%;
			}
			.chair_2 {
				top: 50%;
			}
			.chair_3 {
				top: 80%;
			}
		}
		.table_2, .table_3, .table_4, .table_5, .table_6, .table_7 {
			@include size(7%, 55%);
			.chair_1 {
				top: 15%;
			}
			.chair_2 {
				top: 60%;
			}
		}
		.table_2 {
			left: 20%;
		}
		.table_3 {
			left: 27%;
		}
		.table_4 {
			left: 46%;
		}
		.table_5 {
			left: 53%;
		}
		.table_6 {
			left: 74%;
		}
		.table_7 {
			left: 81%;
		}
		.table_8 {
			left: 96%;
			@include size(4%, 70%);
		}
	}
}

.stairs {
	@include transform(rotateZ(-90deg));
	.floor {
		@include transform(translateZ(-$floor-depth * 2));
		border-width: 1px;
		@include square(100%);
		left: 0;
		top: 0;
	}
	.horizontal {
		border-top-width: 1px;
	}
	.step_large {
		left: 24%;
		.horizontal, .vertical {
			border-left-width: none;
		}
		&.step_1 {
			top: 5%;
			@include step-sizing(-$floor-depth, $floor-depth, 20px, 64%);
		}				
		&.step_2 {
			top: 30%;
			@include step-sizing(-($floor-depth + 20px), $floor-depth - 20px, 20px, 64%);
		}
	}
	.step_small {
		.vertical {
			border-top-width: 0px;
		}
		&.step_1 {
			top: 5%;
			@include step-sizing(-$floor-depth, $floor-depth, 15px, 34%);
		}
		&.step_2 {
			top: 20%;
			@include step-sizing(-($floor-depth + 15px), $floor-depth - 15px, 15px, 34%);
		}
		&.step_3 {
			top: 35%;
			@include step-sizing(-($floor-depth + 30px), $floor-depth - 30px, 15px, 34%);
		}
		&.step_4 {
			top: 50%;
			@include step-sizing(-($floor-depth + 45px), $floor-depth - 45px, 15px, 34%);
		}
	}
}

#fourth_floor {
	margin-top: -13%;
	$fourth-floor-color: #496C52;
	@include floor-sizing($width: 800px, $height: 220px, $floor-name: 'fourth-floor', $post-transform-x: -80px, $post-transform-y: 60px, $pre-transform-y: -150px, $pre-transform-z: 177px, $pre-transform-x: 0px, $facade-width: 101px);
	@include floor-styling($fourth-floor-color, 'fourth-floor');
	svg {
		> g {
			@include transform(rotateZ(90deg) scale(0.635) translateX(62px) translateY(-418px));
		}
	}
	.room_1 {
		.ground_front_desk {
			width: 4%;
			left: 6.3%;
		}
		.ground_ping_pong_table {
			width: 12%;
			left: 14.5%;
		}
		.ground_steps {
			width: 12%;
			left: 52%;
		}
		.ground_green_room {
			width: 11.75%;
			left: 88.25%;
		}
		@include size(100%, 43%);
		.upper, .lower {
			height: 33%;
			border: solid 1px $fourth-floor-color;
		}
		.upper {
			top: 0;
		}
		.doorway {
			@include size(3%, 30%);
			top: 33%;
			.bottom_wall, .top_wall {
				border-left: none;
				border-right: none;
			}
			.left_wall {
				background: none;
				border-width: 2px;
			}
		}
		.front_desk {
			@include size(1.5%, 26%);
			left: 7%;
			top: 37%;
			.chair_left_facing {
				left: 96%;
			}
			.chair_2 {
				top: 50%;
			}
		}
		.divider {
			@include size(1%, 32%);
			left: 11%;
			top: 30%;
			.table {
				@include square(100%);
				@include transform(translateZ(-45px));
				.table_surface {
					background: rgba($fourth-floor-color, 0.1);
				}
				[class*="wall"] {
					height: $floor-depth - 45px;
				}
			}
		}
		.ping_pong_table {
			@include size(7%, 28%);
			left: 17%;
			top: 38%;
			.line {
				background: $fourth-floor-color;
			}
			.horizontal {
				@include size(100%, 1px);
				top: 49%;
			}
			.vertical {
				@include size(1px, 100%);
				left: 50%;
			}
		}
		.eric_office, .storage_room_1, .storage_room_2, .bathroom_1 {
			top: 30%;
		}
		.eric_office {
			@include size(7%, 70%);
			left: 29%;
			.table {
				@include size(65%, 32%);
				left: 18%;
				top: 28%;
				.chair {
					top: 100%;
					left: 38%;
				}
			}
		}
		.storage_room_1 {
			@include size(4.5%, 70%);
			left: 36%;
		}
		.storage_room_2, .storage_room_3 {
			left: 40.5%;
		}
		.storage_room_2 {
			@include size(3.5%, 45%);
		}
		.storage_room_3 {
			@include size(3.5%, 25%);
			top: 75%;
		}
		.bathroom_1, .bathroom_2 {
			@include size(6%, 35%);
			left: 48%;
		}
		.bathroom_2 {
			top: 65%;
		}
		.stairs {
			left: 53%;
			bottom: 0;
			@include size(9%, 62%);
			@include transform(rotateZ(-90deg) translateZ($floor-depth + 22px));
		}
		.producer_table {
			@include size(10%, 38%);
			left: 67%;
			top: 30%;
			.chair_1, .chair_4 {
				left: 15%;
			}
			.chair_2, .chair_5 {
				left: 45%;
			}
			.chair_3, .chair_6 {
				left: 75%;
			}
		}
		.green_room_divider {
			left: 80%;
			height: 100%;
			background: none;
		}
		.drew_office {
			@include size(8%, 70%);
			left: 80.25%;
			top: 30%;
			.table {
				@include size(65%, 32%);
				left: 18%;
				top: 28%;
				.chair {
					top: 100%;
					left: 38%;
				}
			}
		}
	}
	.room_2 {
		@include size(40%, 43%);
		top: 43%;
		.ground {
			width: 60%;
		}
		.table_1, .table_2, .table_3 {
			@include size(8%, 73%);
			.chair_1, .chair_4 {
				top: 15%;
			}
			.chair_2, .chair_5 {
				top: 40%;
			}
			.chair_3, .chair_6 {
				top: 65%;
			}
		}
		.table_1 {
			left: 8%;
		}
		.table_2 {
			left: 25%;
		}
		.table_3 {
			left: 42%;
		}
		.bar {
			@include size(4%, 73%);
			left: 65%;
		}
		.kitchen {
			@include size(25%, 73%);
			left: 75%;
		}
	}
	.room_3 {
		@include size(8%, 14%);
		top: 86%;
		left: 32%;
	}
	.room_4 {
		@include size(5%, 65%);
		top: 43%;;
		left: 40%;
		.room {
			@include size(100%, 35%);
			top: 35%;
		}
		.office_desk_1, .office_desk_2 {
			@include size(100%, 10%);
			.chair {
				left: 40%;
			}
		}
		.office_desk_1 {
			top: 35%;
			.chair {
				top: 100%;
			}
		}
		.office_desk_2 {
			bottom: 0;
			.chair {
				bottom: 100%;
			}
		}
	}
	.room_5 {
		@include size(20%, 65%);
		left: 45%;
		top: 43%;
		> .divider {
			@include size(100%, 1px);
			background: $fourth-floor-color;
			@include transform(translateZ(-$floor-depth));
		}
		.divider_1 {
			top: 42%;
		}
		.divider_2 {
			top: 45%;
		}
		.standing_desks {
			@include size(65%, 16%);
			.chair {
				top: 100%;
			}
			.chair_1 {
				left: 12%;
			}
			.chair_2 {
				left: 35%;
			}
			.chair_3 {
				left: 58%;
			}
			.chair_4 {
				left: 82%;
			}
		}
		.creative_table_1, .creative_table_2 {
			@include size(23%, 34%);
			bottom: 0;
			.chair_1, .chair_3 {
				top: 10%;
			}
			.chair_2, .chair_4 {
				top: 60%;
			}
			.divider {
				@include size(1px, 100%);
				background: $fourth-floor-color;
				left: 50%;
			}
		}
		.creative_table_1 {
			left: 20%;
		}
		.creative_table_2 {
			left: 63%;
		}
	}
	.room_6 {
		@include size(16%, 65%);
		left: 65%;
		top: 43%;
		.table {
			@include size(60%, 22%);
			left: 23%;
			.chair_1, .chair_4 {
				left: 15%;
			}
			.chair_2, .chair_5 {
				left: 50%;
			}
			.chair_3, .chair_6 {
				left: 85%;
			}
		}
		.table_1 {
			top: 18%;
		}
		.table_2 {
			top: 60%;
		}
	}
}









































